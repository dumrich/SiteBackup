[{"content":"Unix systems have two ways of doing Input/Output (I/O) in C:\nPOSIX File I/O ISO C Standard I/O There are 2 different interfaces for I/O because the latter is meant to be portable. C implmentations must provide the \u0026lt;stdio.h\u0026gt; header, so it could work theoretically for any C implementation.\nThe POSIX implementation are unbuffered (more on that later), and usually invoke direct system calls to the kernel.\nThis post will go over both of types of I/O by implementing a very simple Swiper-like utility (for use in the Cemacs editor) in two different ways. Then, we compare the performance of both implementations.\nSources: APUE, TLPI\nPOSIX File I/O At the core of the unbuffered POSIX functions are file descriptors. File descriptors are non-negative integers that are used to identify open files.\nIn C, three file descriptors (always the smallest numbers), are automatically reserved for the standard input, the standard output and the standard error (STDIN_FILNO, STDOUT_FILENO, and STDERR_FILENO in \u0026lt;unistd.h\u0026gt;).\nIn Unix, these are considered files, which we can read and write to as any other.\nOne thing to note about file descriptors, is that the operating system will always assign an open file the smallest file descriptor. For example, if the programmer decides to open a new file at the very beginning of the main function, the file will likely have the descriptor of 3, as 0, 1, and 2 are already reserved.\nBasic implementation We start with our interface function; It usually takes a *Editor, but for our purposes, we\u0026rsquo;ll reduce it down to the pathname and the string we want to search for. We will also test it in a :\n#include \u0026lt;unistd.h\u0026gt; ","permalink":"https://www.dumrich.com/posts/unix-file-io/","summary":"Unix systems have two ways of doing Input/Output (I/O) in C:\nPOSIX File I/O ISO C Standard I/O There are 2 different interfaces for I/O because the latter is meant to be portable. C implmentations must provide the \u0026lt;stdio.h\u0026gt; header, so it could work theoretically for any C implementation.\nThe POSIX implementation are unbuffered (more on that later), and usually invoke direct system calls to the kernel.\nThis post will go over both of types of I/O by implementing a very simple Swiper-like utility (for use in the Cemacs editor) in two different ways.","title":"File I/O on Unix systems"}]